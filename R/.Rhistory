ggplot(data=com, aes(x0, y0))+ylim(c(-4,4))+xlim(c(-4,4))+
stat_chull(data=ci97.5, aes(x, y), geom="polygon", alpha=0.5)+
stat_chull(data=ci2.5, aes(x, y), geom="polygon", fill="white", alpha=1)
ggplot(data=com, aes(x0, y0))+ylim(c(-4,4))+xlim(c(-4,4))+
stat_chull(data=ci97.5, aes(x, y), geom="polygon", alpha=0.4)+
stat_chull(data=ci2.5, aes(x, y), geom="polygon", fill="white", alpha=1)+
geom_point()
ggplot(data=com, aes(x0, y0))+ylim(c(-4,4))+xlim(c(-4,4))+
stat_chull(data=ci97.5, aes(x, y), geom="polygon", alpha=0.4)+
stat_chull(data=ci2.5, aes(x, y), geom="polygon", fill="white", alpha=1)+
geom_point()+
stat_chull(fill=NA, color="red", geom="polygon")+
theme_bw()
?theme
ggplot(data=com, aes(x0, y0))+ylim(c(-4,4))+xlim(c(-4,4))+
stat_chull(data=ci97.5, aes(x, y), geom="polygon", alpha=0.4)+
stat_chull(data=ci2.5, aes(x, y), geom="polygon", fill="white", alpha=1)+
geom_point()+
stat_chull(fill=NA, color="red", geom="polygon")+
theme(line=element_blank())
ggplot(data=com, aes(x0, y0))+ylim(c(-4,4))+xlim(c(-4,4))+
stat_chull(data=ci97.5, aes(x, y), geom="polygon", alpha=0.4)+
stat_chull(data=ci2.5, aes(x, y), geom="polygon", fill="white", alpha=1)+
geom_point()+
stat_chull(fill=NA, color="red", geom="polygon")+
theme(line=element_blank())+geom_blank()
ggplot(data=com, aes(x0, y0))+ylim(c(-4,4))+xlim(c(-4,4))+
stat_chull(data=ci97.5, aes(x, y), geom="polygon", alpha=0.4)+
stat_chull(data=ci2.5, aes(x, y), geom="polygon", fill="white", alpha=1)+
geom_point()+
stat_chull(fill=NA, color="red", geom="polygon")+
theme(line=element_blank(), background=element_blank())
?theme
ggplot(data=com, aes(x0, y0))+ylim(c(-4,4))+xlim(c(-4,4))+
stat_chull(data=ci97.5, aes(x, y), geom="polygon", alpha=0.4)+
stat_chull(data=ci2.5, aes(x, y), geom="polygon", fill="white", alpha=1)+
geom_point()+
stat_chull(fill=NA, color="red", geom="polygon")+
theme(line=element_blank(), panel.background=element_blank())
ggplot(data=com, aes(x0, y0))+ylim(c(-4,4))+xlim(c(-4,4))+
stat_chull(data=ci97.5, aes(x, y), geom="polygon", alpha=0.4)+
stat_chull(data=ci2.5, aes(x, y), geom="polygon", fill="white", alpha=1)+
geom_point()+
stat_chull(fill=NA, color="red", geom="polygon")+
theme(line=element_blank(), panel.background=element_blank(), axis.text=element_blank())
ggplot(data=com, aes(x0, y0))+ylim(c(-4,4))+xlim(c(-4,4))+
stat_chull(data=ci97.5, aes(x, y), geom="polygon", alpha=0.4)+
stat_chull(data=ci2.5, aes(x, y), geom="polygon", fill="white", alpha=1)+
geom_point()+
stat_chull(fill=NA, color="red", geom="polygon")+
theme(line=element_blank(),
panel.background=element_blank(),
axis.text=element_blank(),
title=element_blank())
?geom_path
fig1.1<-function(com, null.d)
{
# plot(com4, pch=16, col="blue", xlim=c(-4, 4), ylim=c(-4,4))
# Plot_ConvexHull(com4, lcolor="red")
# points(com4, pch=16, col="blue", xlim=c(-4, 4), ylim=c(-4,4))
require(ggplot2)
require(ggpubr)
pts<-chull(com$x0, com$y0)
theta<-apply(cbind(com[pts,1], com[pts,2]), 1, function(x) atan2(x[2], x[1]))
d2<-spDistsN1(cbind(com[pts,1], com[pts,2]), c(0,0))
inc<-0.01
ci2.5<-ci97.5<-data.frame(x=cos(theta)*d2*inc, y=sin(theta)*d2*inc)   #faire varier celui la jusqu'à la valeur voulue
fac<-inc
while(convhulln(ci2.5, "FA")$vol<quantile(null.d, .025))
{
ci2.5<-data.frame(x=cos(theta)*d2*fac, y=sin(theta)*d2*fac)
print(convhulln(ci2.5, "FA")$vol)
fac<-fac+inc
}
while(convhulln(ci97.5, "FA")$vol<quantile(null.d, .90))
{
ci97.5<-data.frame(x=cos(theta)*d2*fac,y=sin(theta)*d2*fac)
print(convhulln(ci97.5, "FA")$vol)
fac<-fac+inc
}
ggplot(data=com, aes(x0, y0))+ylim(c(-4,4))+xlim(c(-4,4))+
stat_chull(data=ci97.5, aes(x, y), geom="polygon", alpha=0.4)+
stat_chull(data=ci2.5, aes(x, y), geom="polygon", fill="white", alpha=1)+
geom_point()+
stat_chull(fill=NA, color="red", geom="polygon")+
theme(line=element_blank(),
panel.background=element_blank(),
axis.text=element_blank(),
title=element_blank())
}
fig1.1(com1, v40)
fig1.1(com2, v80)
fig1.1(com3, v120)
fig1.1<-function(com, null.d)
{
# plot(com4, pch=16, col="blue", xlim=c(-4, 4), ylim=c(-4,4))
# Plot_ConvexHull(com4, lcolor="red")
# points(com4, pch=16, col="blue", xlim=c(-4, 4), ylim=c(-4,4))
require(ggplot2)
require(ggpubr)
pts<-chull(com$x0, com$y0)
theta<-apply(cbind(com[pts,1], com[pts,2]), 1, function(x) atan2(x[2], x[1]))
d2<-spDistsN1(cbind(com[pts,1], com[pts,2]), c(0,0))
inc<-0.01
ci2.5<-ci97.5<-data.frame(x=cos(theta)*d2*inc, y=sin(theta)*d2*inc)   #faire varier celui la jusqu'à la valeur voulue
fac<-inc
while(convhulln(ci2.5, "FA")$vol<quantile(null.d, .025))
{
ci2.5<-data.frame(x=cos(theta)*d2*fac, y=sin(theta)*d2*fac)
print(convhulln(ci2.5, "FA")$vol)
fac<-fac+inc
}
while(convhulln(ci97.5, "FA")$vol<quantile(null.d, .95))
{
ci97.5<-data.frame(x=cos(theta)*d2*fac,y=sin(theta)*d2*fac)
print(convhulln(ci97.5, "FA")$vol)
fac<-fac+inc
}
ggplot(data=com, aes(x0, y0))+ylim(c(-4,4))+xlim(c(-4,4))+
stat_chull(data=ci97.5, aes(x, y), geom="polygon", alpha=0.4)+
stat_chull(data=ci2.5, aes(x, y), geom="polygon", fill="white", alpha=1)+
geom_point()+
stat_chull(fill=NA, color="red", geom="polygon")+
theme(line=element_blank(),
panel.background=element_blank(),
axis.text=element_blank(),
title=element_blank())
}
fig1.1(com3, v120)
fig1.1(com3, v160)
fig1.1(com1, v160)
fig1.1(com3, v120)
fig1.1(com1, v40)
fig1.1(com2, v80)
fig1.1<-function(com, null.d)
{
# plot(com4, pch=16, col="blue", xlim=c(-4, 4), ylim=c(-4,4))
# Plot_ConvexHull(com4, lcolor="red")
# points(com4, pch=16, col="blue", xlim=c(-4, 4), ylim=c(-4,4))
require(ggplot2)
require(ggpubr)
pts<-chull(com$x0, com$y0)
theta<-apply(cbind(com[pts,1], com[pts,2]), 1, function(x) atan2(x[2], x[1]))
d2<-spDistsN1(cbind(com[pts,1], com[pts,2]), c(0,0))
inc<-0.01
ci2.5<-ci97.5<-data.frame(x=cos(theta)*d2*inc, y=sin(theta)*d2*inc)   #faire varier celui la jusqu'à la valeur voulue
fac<-inc
while(convhulln(ci2.5, "FA")$vol<quantile(null.d, .025))
{
ci2.5<-data.frame(x=cos(theta)*d2*fac, y=sin(theta)*d2*fac)
print(convhulln(ci2.5, "FA")$vol)
fac<-fac+inc
}
fac<-inc
while(convhulln(ci97.5, "FA")$vol<quantile(null.d, .95))
{
ci97.5<-data.frame(x=cos(theta)*d2*fac,y=sin(theta)*d2*fac)
print(convhulln(ci97.5, "FA")$vol)
fac<-fac+inc
}
ggplot(data=com, aes(x0, y0))+ylim(c(-4,4))+xlim(c(-4,4))+
stat_chull(data=ci97.5, aes(x, y), geom="polygon", alpha=0.4)+
stat_chull(data=ci2.5, aes(x, y), geom="polygon", fill="white", alpha=1)+
geom_point()+
stat_chull(fill=NA, color="red", geom="polygon")+
theme(line=element_blank(),
panel.background=element_blank(),
axis.text=element_blank(),
title=element_blank())
}
fig1.1(com2, v80)
com<-com2
null.d<-v80
require(ggplot2)
require(ggpubr)
pts<-chull(com$x0, com$y0)
theta<-apply(cbind(com[pts,1], com[pts,2]), 1, function(x) atan2(x[2], x[1]))
d2<-spDistsN1(cbind(com[pts,1], com[pts,2]), c(0,0))
pts
d2
inc<-0.01
ci2.5<-ci97.5<-data.frame(x=cos(theta)*d2*inc, y=sin(theta)*d2*inc)   #faire varier celui la jusqu'à la valeur voulue
fac<-inc
while(convhulln(ci2.5, "FA")$vol<quantile(null.d, .025))
{
ci2.5<-data.frame(x=cos(theta)*d2*fac, y=sin(theta)*d2*fac)
print(convhulln(ci2.5, "FA")$vol)
fac<-fac+inc
}
fac<-inc
while(convhulln(ci97.5, "FA")$vol<quantile(null.d, .95))
{
ci97.5<-data.frame(x=cos(theta)*d2*fac,y=sin(theta)*d2*fac)
print(convhulln(ci97.5, "FA")$vol)
fac<-fac+inc
}
ci2.5
ci97.5
ggplot(data=com, aes(x0, y0))+ylim(c(-4,4))+xlim(c(-4,4))+
stat_chull(data=ci97.5, aes(x, y), geom="polygon", alpha=0.4)+
stat_chull(data=ci2.5, aes(x, y), geom="polygon", fill="white", alpha=1)+
geom_point()+
stat_chull(fill=NA, color="red", geom="polygon")+
theme(line=element_blank(),
panel.background=element_blank(),
axis.text=element_blank(),
title=element_blank())
ggplot(data=com, aes(x0, y0))+ylim(c(-4,4))+xlim(c(-4,4))+
stat_chull(data=ci97.5, aes(x, y), geom="polygon", alpha=0.4)
chull(ci97.5)
ggplot(data=com, aes(x0, y0))+ylim(c(-4,4))+xlim(c(-4,4))+
stat_chull(data=ci97.5, aes(x, y), geom="polygon", alpha=0.4)+
stat_chull(data=ci2.5, aes(x, y), geom="polygon", fill="white", alpha=1)+
geom_point()+
stat_chull(fill=NA, color="red", geom="polygon")+
theme(line=element_blank(),
panel.background=element_blank(),
axis.text=element_blank(),
title=element_blank())
ggplot(data=com, aes(x0, y0))+ylim(c(-4.1,4.1))+xlim(c(-4.1,4.1))+
stat_chull(data=ci97.5, aes(x, y), geom="polygon", alpha=0.4)+
stat_chull(data=ci2.5, aes(x, y), geom="polygon", fill="white", alpha=1)+
geom_point()+
stat_chull(fill=NA, color="red", geom="polygon")+
theme(line=element_blank(),
panel.background=element_blank(),
axis.text=element_blank(),
title=element_blank())
fig1.1<-function(com, null.d)
{
# plot(com4, pch=16, col="blue", xlim=c(-4, 4), ylim=c(-4,4))
# Plot_ConvexHull(com4, lcolor="red")
# points(com4, pch=16, col="blue", xlim=c(-4, 4), ylim=c(-4,4))
require(ggplot2)
require(ggpubr)
pts<-chull(com$x0, com$y0)
theta<-apply(cbind(com[pts,1], com[pts,2]), 1, function(x) atan2(x[2], x[1]))
d2<-spDistsN1(cbind(com[pts,1], com[pts,2]), c(0,0))
inc<-0.01
ci2.5<-ci97.5<-data.frame(x=cos(theta)*d2*inc, y=sin(theta)*d2*inc)   #faire varier celui la jusqu'à la valeur voulue
fac<-inc
while(convhulln(ci2.5, "FA")$vol<quantile(null.d, .025))
{
ci2.5<-data.frame(x=cos(theta)*d2*fac, y=sin(theta)*d2*fac)
print(convhulln(ci2.5, "FA")$vol)
fac<-fac+inc
}
fac<-inc
while(convhulln(ci97.5, "FA")$vol<quantile(null.d, .95))
{
ci97.5<-data.frame(x=cos(theta)*d2*fac,y=sin(theta)*d2*fac)
print(convhulln(ci97.5, "FA")$vol)
fac<-fac+inc
}
ggplot(data=com, aes(x0, y0))+ylim(c(-4.1,4.1))+xlim(c(-4.1,4.1))+
stat_chull(data=ci97.5, aes(x, y), geom="polygon", alpha=0.4)+
stat_chull(data=ci2.5, aes(x, y), geom="polygon", fill="white", alpha=1)+
geom_point()+
stat_chull(fill=NA, color="red", geom="polygon")+
theme(line=element_blank(),
panel.background=element_blank(),
axis.text=element_blank(),
title=element_blank())
}
fig1.1(com4, v160)
fig1.1(com4, v160)->p4
dev.off()
p4
p4+geom_point(data=com1, (x0,y0), color="blue")
p4+geom_point(data=com1, (x0,y0), color="blue"))
p4+geom_point(data=com1, aes(x0,y0), color="blue")
plot(com1)
p4+geom_point(data=com1, aes(x0,y0), color="blue")
p4+geom_point(data=com3, aes(x0,y0), color="blue")
dim(com4)
dim(com3)
plot(com4)
points(com1, col=2)
d1
3.54^2
4^2
3.54^3
4^3
plot(abs(com4)^2*sing(com4))
plot(abs(com4)^2*sign(com4))
plot(abs(com4)^3*sign(com4))
plot(abs(com4)^1.5*sign(com4))
plot(abs(com4)^5*sign(com4))
plot(com4*4)
plot(com4+4)^2)
plot((com4+4)^2)
plot((com4+4000000)^2)
plot((com4+4000000)^2)-4000000)
plot((com4+4000000)^2)-4000000))
plot(((com4+4000000)^2)-4000000)
range((com4+400000)^2)
range(com4)
diffrange((com4+400000)^2)
diff(range((com4+400000)^2)
)
diff(range((com2+400000)^2))
plot(((com4+4000000)^5)-4000000)
plot(com4)
plot(((com4+4000000)^5)-4000000)
points(((com2+4000000)^5)-4000000)
points(((com2+4000000)^5)-4000000, col=2)
quantile(v40, probs=c(.025, .975))
quantile(v80, probs=c(.025, .975))
quantile(v120, probs=c(.025, .975))
quantile(v160, probs=c(.025, .975))
37-24
42-32
43-37
diff(quantile(v160, probs=c(.025, .975)))
diff(quantile(v120, probs=c(.025, .975)))
diff(quantile(v80, probs=c(.025, .975)))
diff(quantile(v40, probs=c(.025, .975)))
median(quantile(v40, probs=c(.025, .975)))
median(quantile(v80, probs=c(.025, .975)))
median(quantile(v120, probs=c(.025, .975)))
median(quantile(v140, probs=c(.025, .975)))
median(quantile(v160, probs=c(.025, .975)))
p4
fig1.1(com1, v40)->p1
fig1.1(com2, v80)->p2
fig1.1(com3, v120)->p3
fig1.1(com4, v160)->p4
p3
p1
p2
p1
read.table("rs.tab4.fuzzy.txt")->rs.tab4
read.table("C:/Users/vincent/Desktop/rs.tab4.fuzzy.txt")->rs.tab4
library(pargwr)
SpatialPointsDataFrame(coords=rs.tab4[,c("X", "Y")], data=rs.tab4[,c("nbsp", "SESFRic_rxb", "nppt")])->sp.rs.tab
library(sp)
SpatialPointsDataFrame(coords=rs.tab4[,c("X", "Y")], data=rs.tab4[,c("nbsp", "SESFRic_rxb", "nppt")])->sp.rs.tab
gwr.sel.par(SESFRic_rxb~nppt, data=sp.rs.tab[2000,2999], tol=50000, beta1=0, beta2=600000, gweight=gwr.bisquare, longlat=F)
gwr.sel.par(SESFRic_rxb~nppt, data=sp.rs.tab[2000,2999], tol=50000, beta1=0, beta2=600000, gweight=gwr.bisquare, longlat=F)
gwr.sel.par(SESFRic_rxb~nppt, data=sp.rs.tab[c(2000:2999),], tol=50000, beta1=0, beta2=600000, gweight=gwr.bisquare, longlat=F)
gwr.sel.par(SESFRic_rxb~nppt, data=sp.rs.tab[c(2000:2999),], tol=50000, beta1=0, beta2=600000, gweight=gwr.Gauss, longlat=F)
gwr.bisquare
?gwr.bisquare
?gwr.Gauss
gwr.Gauss
(4/7)^2
16/7^2
16/(7^2)
source('~/.active-rstudio-document')
gwr.sel.par(SESFRic_rxb~nppt, data=sp.rs.tab, tol=50000, beta1=0, beta2=600000, gweight=gwr.Gauss, longlat=F)
dir("O:/ST_Ecoinformatics/C_Write/vincent/Postdoc_CIRCE/global_bird_hanpp/Results/packing.vs.expansion")
dir("O:/C_Write/vincent/Postdoc_CIRCE/global_bird_hanpp/Results/packing.vs.expansion")
load("O:/C_Write/vincent/Postdoc_CIRCE/global_bird_hanpp/Results/packing.vs.expansion/pack.list.fuzzyR3.B2.RData")
packs
load("O:/C_Write/vincent/Postdoc_CIRCE/global_bird_hanpp/Results/packing.vs.expansion/pack.list.5axes.RData")
pack.list[[22]]
pack.list[[21]]
pack.list[[23]]
pack.list[[23]]$RxB
unique(pack.list[[23]]$RxB)
unique(pack.list[[1]]$RxB)
unique(pack.list[[2]]$RxB)
sapply(pack.list, function(x) unique(x$RxB))
unlist(sapply(pack.list, function(x) unique(x$RxB)))
do.call(cbind(sapply(pack.list, function(x) unique(x$RxB))))
do.call(cbind, sapply(pack.list, function(x) unique(x$RxB)))
sapply(pack.list, function(x) as.character(unique(x$RxB)))
unlist(sapply(pack.list, function(x) as.character(unique(x$RxB))))
which(unlist(sapply(pack.list, function(x) as.character(unique(x$RxB))))=="R8.B6")
pack.list[[V8]]
pack.list[[8]]
load("C:/Users/vincent/Desktop/pack.exp.RData")
packing<-function(site.min, site.max, traits, mat) #here, site is the number/id of the cell
{
a.min<-mat[site.min,]
a.max<-mat[site.max,]
convhulln(traits[names(a.min[a.min>0]),1:5], "FA")$vol->vol.min
convhulln(traits[names(a.max[a.max>0]),1:5], "FA")$vol->vol.max
setdiff(names(a.max[a.max>0]), names(a.min[a.min>0]))->esp.unique.max
length(esp.unique.max)->nbsp.unique.max
intersect(names(a.max[a.max>0]), names(a.min[a.min>0]))->esp.comm
esp.rem<-NULL
volume.depaup<-rich.depaup<-vector()
for (i in seq(length(esp.unique.max)+length(esp.comm)))#length(esp.unique.max))
{
setdiff(esp.unique.max, esp.rem)->esp.unique.max
a.max.depaup<-as.data.frame(matrix(nrow=length(esp.unique.max), ncol=length(esp.unique.max), 1))
rownames(a.max.depaup)<-colnames(a.max.depaup)<-esp.unique.max
diag(a.max.depaup)<-0
a.max.depaup[,esp.comm]<-1
apply(a.max.depaup, 1, function(x) {convhulln(traits[names(x)[which(x>0)],1:5], options=c("FA", "QJ"))$vol})->fric.obs
names(which.max(vol.max-fric.obs))->esp.rem   #smallest difference
fric.obs[esp.rem]->volume.depaup[i]
sum(a.max.depaup[esp.rem,])->rich.depaup[i]
if(fric.obs[esp.rem]<=vol.min) break
}
return(list(pourc.pack=(1-((i-1)/sum(a.max)))*100, nb.esp.expansion=i-1, nb.esp.com=length(esp.comm),
nb.esp.min=sum(a.min), nb.esp.max=sum(a.max)))
}
getwd()
dir.create("C:/Users/vincent/Desktop/packing.vs.expansion")
pack.biomes<-function(m)
{
packs<-data.frame(matrix(ncol=20, nrow=0))
names(packs)<-c("RxB", "Sample", "NPP low", "NPP medium", "NPP high",
paste(c("pourc.pack", "nb.exp.expansion", "nb.esp.com", "nb.esp.min", "nb.esp.max"),
rep(c("lh", "mh", "lm"), each=5), sep="."))
for (i in seq(10))
{
rs.tab4[rs.tab4$realms_x_biomes==m,]->rs.tab.region
if(m=="R1.B2")
rs.tab.region<-rs.tab.region[rs.tab.region$nppt<400,]
rs.tab.region$cell<-as.character(rs.tab.region$cell)
cooc[is.element(rownames(cooc), rs.tab.region$cell),]->cooc_region
rs.tab.region$class.npp<-Hmisc::cut2(rs.tab.region$nppt, g=9)
rs.tab.region$class.npp<-cut(rs.tab.region$nppt, breaks=9, labels=F)
rs.tab.region$labels.class.npp<-cut(rs.tab.region$nppt, breaks=9)
if(length(unique(rs.tab.region$class.npp))!=9)
return(packs)
rs.tab.region.high<-rs.tab.region[rs.tab.region$class.npp==9,]
rs.tab.region.medium<-rs.tab.region[rs.tab.region$class.npp==5,]
rs.tab.region.low<-rs.tab.region[rs.tab.region$class.npp==1,]
rs.tab.region.high<-rs.tab.region.high[rs.tab.region.high$nbsp>max(rs.tab.region.high$nbsp)*.90,]    #high cell sampled in cells within 95% of max nbsp
cell.high.npp<-sample(rs.tab.region.high$cell,1)
nbsp.high.npp<-rs.tab.region.high$nbsp[rs.tab.region.high$cell==cell.high.npp]
cell.medium<-rs.tab.region.medium[which.min(abs(rs.tab.region.medium$nbsp-nbsp.high.npp/2)), "cell"] #cell closest to x% of the high npp cell
nbsp.medium<-rs.tab.region.medium[rs.tab.region.medium$cell==cell.medium, "nbsp"]
cell.medium.npp<-sample(rs.tab.region.medium[rs.tab.region.medium$nbsp>nbsp.medium*0.95 & rs.tab.region.medium$nbsp<nbsp.medium*1.05, "cell"],1)  #sampling one within all cells having ±5% species than the selected cell
nbsp.medium.npp<-rs.tab.region.medium[rs.tab.region.medium$cell==cell.medium.npp, "nbsp"]
rm(list=c("cell.medium", "nbsp.medium"))
cell.low<-rs.tab.region.low[which.min(abs(rs.tab.region.low$nbsp-nbsp.medium.npp/2)), "cell"] #cell closest to x% of the high npp cell
nbsp.low<-rs.tab.region.low[rs.tab.region.low$cell==cell.low, "nbsp"]
cell.low.npp<-sample(rs.tab.region.low[rs.tab.region.low$nbsp>nbsp.low*0.95 & rs.tab.region.low$nbsp<nbsp.low*1.05, "cell"],1)  #sampling one within all cells having ±5% species than the selected cell
nbsp.low.npp<-rs.tab.region.low[rs.tab.region.low$cell==cell.low.npp, "nbsp"]
rm(list=c("cell.low", "nbsp.low"))
packing(cell.low.npp, cell.high.npp, traits=traits, mat=cooc_region)->pack.LH
packing(cell.medium.npp, cell.high.npp, traits=traits, mat=cooc_region)->pack.MH
packing(cell.low.npp, cell.medium.npp, traits=traits, mat=cooc_region)->pack.LM
as.character(unique(rs.tab.region$labels.class.npp[rs.tab.region$class.npp==1]))->npp.l
as.character(unique(rs.tab.region$labels.class.npp[rs.tab.region$class.npp==4]))->npp.m
as.character(unique(rs.tab.region$labels.class.npp[rs.tab.region$class.npp==9]))->npp.h
data.frame(t(c(m, i, npp.l, npp.m, npp.h, unlist(pack.LH), unlist(pack.MH), unlist(pack.LM))))->pack.region
names(packs)->names(pack.region)
rbind(packs, pack.region)->packs
print(i)
}
print(paste(m, "Try n°", i))
# return(packs)
save(list="packs",
file=paste0("C:/Users/vincent/Desktop/packing.vs.expansion/pack.list.fuzzy", m,".RData"))
}
library(snowfall)
unique(rs.tab4$realms_x_biomes)->rxb
setdiff(rxb, c("R1.B2",  "R3.B12", "R3.B2",
"R3.B5",  "R3.B7",  "R3.B9",  "R4.B13",
"R5.B14", "R5.B2",  "R5.B7",  "R5.B8",
"R5.B9",  "R6.B7",  "R6.B9",  "R8.B1",
"R8.B2",  "R8.B7",  "R8.B8",  "R8.B9",
"R5.B1", "R8.B9"))->rxb
library(sp)
library(geometry)
setdiff(rxb, c("R1.B2",  "R3.B12", "R3.B2",
"R3.B5",  "R3.B7",  "R3.B9",  "R4.B13",
"R5.B14", "R5.B2",  "R5.B7",  "R5.B8",
"R5.B9",  "R6.B7",  "R6.B9",  "R8.B1",
"R8.B2",  "R8.B7",  "R8.B8",  "R8.B9",
"R5.B1", "R8.B9"))->rxb
sfInit(parallel=T, cpus=6)
sfExport(list=c("rs.tab4","pack.biomes", "packing", "cooc", "traits", "rxb"))
sfLibrary(geometry)
sfClusterApplyLB(rxb, function(x) pack.biomes(x))
sfStop()
getwd()
dir("C:/Users/vincent/Desktop/packing.vs.expansion")
dir("O:/C_Write/vincent/Postdoc_CIRCE/global_bird_hanpp/Results/packing.vs.expansion")
dir("O:/C_Write/vincent/Postdoc_CIRCE/global_bird_hanpp/Results/packing.vs.expansion")->aa
gsub("", "pack.list.fuzzy", aa)
aa
gsub("", "pack.list.fuzzy", aa, fixed=T)
?gsub
gsub("", "pack.list.fuzzy", aa, value=T)
gsub("pack.list.fuzzy", "", aa, value=T)
gsub("pack.list.fuzzy", "", aa)
gsub("pack.list.fuzzy", "", aa)->bb
gsub(".RData", "", bb)
gsub(""pack.list.5axes", "", cc)
gsub("pack.list.5axes", "", cc)
gsub(".RData", "", bb)->cc
gsub("pack.list.5axes", "", cc)
c("R1.B2", "R3.B12", "R3.B2", "R3.B5", "R3.B7", "R3.B9", "R4.B11", "R4.B13", "R4.B2", "R5.B1", "R5.B14",
"R5.B2", "R5.B7", "R5.B8", "R5.B9", "R6.B7", "R6.B9", "R8.B1", "R8.B13", "R8.B14" "R8.B2", "R8.B5", "R8.B6",
"R8.B7", "R8.B8", "R8.B9")
c("R1.B2", "R3.B12", "R3.B2", "R3.B5", "R3.B7", "R3.B9", "R4.B11", "R4.B13", "R4.B2", "R5.B1", "R5.B14",
"R5.B2", "R5.B7", "R5.B8", "R5.B9", "R6.B7", "R6.B9", "R8.B1", "R8.B13", "R8.B14", "R8.B2", "R8.B5", "R8.B6",
"R8.B7", "R8.B8", "R8.B9")
library(pargwr)
?gwr.sel.par
?gwr.cv.f.par
?roxygen2
?roxygenise
?roxygene2roxygenise
?roxygene2::roxygenise
?roxygen2::roxygenise
vignette("rd", package = "roxygen2")
setwd("~/pargwr/R")
document()
devtools::document()
library(devtools)
install_github("vpellissier/pargwr")
library(pargwr)
?gwr.se
?gwr.sel.par
